<section class="container my-5 p-4 rounded shadow-lg cart-section bg-white">
  <!-- عنوان العربة و زر التفريغ -->
  <div class="d-flex justify-content-between align-items-center border-bottom pb-3 mb-3">
    <h1 class="h4 text-uppercase text-danger fw-bold">🛒 Shop Cart</h1>
    <button class="btn btn-outline-danger btn-sm clear-btn" (click)="clearItems()">
      <i class="fa-solid fa-trash"></i> Clear Cart
    </button>
  </div>

  <!-- إجمالي السعر -->
  <p class="text-danger fw-bold fs-5">Total Price: {{cartDetails.totalCartPrice | currency: 'EGP'}}</p>

  <!-- عناصر العربة -->
  <div class="cart-item border-bottom pb-3 mb-3" *ngFor="let item of cartDetails.products">
    <div class="row align-items-center g-3">

      <!-- صورة المنتج -->
      <div class="col-md-2">
        <img class="img-fluid rounded shadow-sm product-img" [src]="item.product.imageCover" [alt]="item.title">
      </div>

      <!-- تفاصيل المنتج -->
      <div class="col-md-8">
        <h5 class="text-dark mb-1 fw-bold">{{item.product.title}}</h5>
        <p class="text-muted mb-1">Price: {{item.price | currency:'EGP'}}</p>
        
        <button class="btn btn-link text-danger remove-btn" (click)="removeCartItem(item.product._id)">
          <i class="fa-regular fa-trash-can"></i> Remove
        </button>
      </div>

      <!-- زر زيادة ونقصان الكمية -->
      <div class="col-md-2 d-flex align-items-center justify-content-end gap-2">
        <button class="btn btn-outline-danger btn-sm quantity-btn" (click)="changeCount(item.product._id, item.count + 1)">+</button>
        <span class="fw-bold quantity-count">{{item.count}}</span>
        <button class="btn btn-outline-success btn-sm quantity-btn" (click)="changeCount(item.product._id, item.count - 1)">-</button>
      </div>

    </div>
  </div>

  <!-- زر الطلب -->
  <button class="btn btn-danger w-100 py-2 order-btn" [routerLink]="['/orders' , cartDetails._id ]">
    Checkout
  </button>
</section>
